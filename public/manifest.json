{
"manifest_version": 3,
"name": "Screenshot Logger S3",
"version": "0.3.0",

"icons": {
  "16": "icons/icon16.png",
  "32": "icons/icon16.png",
  "48": "icons/icon16.png",
  "128": "icons/icon16.png"
},

"permissions": [
"storage",
"tabs",
"activeTab",
"offscreen"
],

"host_permissions": [
"<all_urls>",
"https://*.amazonaws.com"
],

"action": {
"default_popup": "popup.html"
},

"background": {
"service_worker": "scripts/background.js",
"type": "module"
},

"content_scripts": [
{
"matches": ["<all_urls>"],
"js": ["scripts/content.js"],
"type": "module",
"run_at": "document_start",
"all_frames": true,
"match_about_blank": true
}
],

"web_accessible_resources": [
{
"resources": ["offscreen.html"],
"matches": ["<all_urls>"]
}
],

"content_security_policy": {
"extension_pages": "script-src 'self' 'wasm-unsafe-eval'; object-src 'self'; connect-src 'self' https://*.amazonaws.com"
}
}